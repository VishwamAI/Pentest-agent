import os
import google.generativeai as genai
import sys

# Configure the Gemini API with the provided API key
genai.configure(api_key=os.getenv('GEMINI_API_KEY'))

# Function to summarize content using the Gemini API
def summarize_content(text):
    # Choose a model that's appropriate for summarization
    model = genai.GenerativeModel('gemini-1.5-flash')

    # Create a prompt for summarization
    prompt = f"Summarize the following content:\n\n{text}"

    # Generate the summary
    response = model.generate_content(prompt)

    # Return the generated summary
    return response.text

# Example usage
if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: python summarize.py <text_to_summarize>")
        sys.exit(1)

    text_to_summarize = sys.argv[1]
    summary = summarize_content(text_to_summarize)
    print(summary)
