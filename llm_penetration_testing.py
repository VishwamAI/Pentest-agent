import os
import requests

# Set the Hugging Face API token
api_token = os.getenv('HUGGING_FACE_API_TOKEN')

# Set the Hugging Face API URL
api_url = "https://api-inference.huggingface.co/models"

# Function to send data to the Hugging Face API and receive a response
def query_huggingface_api(data):
    headers = {
        "Authorization": f"Bearer {api_token}"
    }
    response = requests.post(api_url, headers=headers, json=data)
    return response.json()

# Function to perform LLM-based penetration testing
def llm_penetration_testing(input_data):
    data = {
        "inputs": input_data
    }
    result = query_huggingface_api(data)
    return result

# Example usage of the function
if __name__ == "__main__":
    input_data = "Scan the target URL for SQL Injection vulnerabilities."
    result = llm_penetration_testing(input_data)
    print(result)
