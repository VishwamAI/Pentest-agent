import sys
import os
import gym

# Adjust the Python path to include the src directory
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '../src')))

from pen_test_rl_env import PenTestEnv

def main():
    target_url = "http://localhost:9090/WebGoat"
    user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"

    env = PenTestEnv(target_url, user_agent)

    # Reset the environment
    state = env.reset()
    print(f"Initial state: {state}")

    # Perform a few steps in the environment
    for action in range(env.action_space.n):
        state, reward, done, info = env.step(action)
        print(f"Action: {action}, State: {state}, Reward: {reward}, Done: {done}, Info: {info}")

if __name__ == "__main__":
    main()
